# å°é¸¡å½±è§† (xiaojitv.com) æœç´¢ç»“æœHTMLç»“æ„åˆ†æ

## ç½‘ç«™ä¿¡æ¯

- **ç½‘ç«™åç§°**: å°é¸¡å½±è§†
- **åŸŸå**: `www.xiaojitv.com`
- **æœç´¢URLæ ¼å¼**: `https://www.xiaojitv.com/?s={å…³é”®è¯}`
- **è¯¦æƒ…é¡µURLæ ¼å¼**: `https://www.xiaojitv.com/{ID}.html`
- **ä¸»è¦ç‰¹ç‚¹**: å½±è§†èµ„æºç«™ï¼Œæä¾›å¤šç§ç½‘ç›˜é“¾æ¥ï¼Œä½¿ç”¨base64ç¼–ç ä¿æŠ¤çœŸå®é“¾æ¥

## HTMLç»“æ„

### æœç´¢ç»“æœé¡µé¢ç»“æ„

æœç´¢ç»“æœé¡µé¢ä½¿ç”¨posterå¸ƒå±€ï¼Œä¸»è¦å†…å®¹ä½äº`.poster-grid`å…ƒç´ å†…ï¼š

```html
<div class="poster-grid">
    <article class="poster-item excerpt-1">
        <!-- å•ä¸ªæœç´¢ç»“æœ -->
    </article>
    <article class="poster-item excerpt-2">
        <!-- å•ä¸ªæœç´¢ç»“æœ -->
    </article>
    <!-- æ›´å¤šæœç´¢ç»“æœ... -->
</div>
```

### å•ä¸ªæœç´¢ç»“æœç»“æ„

æ¯ä¸ªæœç´¢ç»“æœåŒ…å«ä»¥ä¸‹ä¸»è¦å…ƒç´ ï¼š

#### 1. å°é¢å›¾ç‰‡å’Œè¯¦æƒ…é¡µé“¾æ¥

```html
<div class="poster-image">
    <a class="poster-link" href="https://www.xiaojitv.com/656.html">
        <img src="https://www.xiaojitv.com/wp-content/uploads/2025/09/47a3352110f7e36.webp" 
             alt="å‡¡äººä¿®ä»™ä¼ (2020) | å°é¸¡å½±è§†" 
             class="thumb">
    </a>
    <div class="poster-top-left"></div>
    <div class="poster-rating poster-top-right">
        <span class="rating-score">7.9</span>
    </div>
    <div class="poster-category poster-bottom-left">
        <a href="https://www.xiaojitv.com/dongman">åŠ¨æ¼«</a>
    </div>
    <div class="poster-views">é˜…è¯»(<span class="ajaxlistpv" data-id="656"></span>)</div>
</div>
```

#### 2. æ ‡é¢˜å’Œæ ‡ç­¾ä¿¡æ¯

```html
<div class="poster-content">
    <h2 class="poster-title">
        <a href="https://www.xiaojitv.com/656.html" title="å‡¡äººä¿®ä»™ä¼ (2020) | å°é¸¡å½±è§†">
            å‡¡äººä¿®ä»™ä¼ (2020)
        </a>
    </h2>
    <div class="poster-tags">
        <a href="https://www.xiaojitv.com/tag/2020å¹´">2020å¹´</a> / 
        <a href="https://www.xiaojitv.com/tag/7-9åˆ†">7.9åˆ†</a> / 
        <a href="https://www.xiaojitv.com/tag/ä¸­å›½å¤§é™†">ä¸­å›½å¤§é™†</a> / 
        <a href="https://www.xiaojitv.com/tag/åŠ¨ç”»">åŠ¨ç”»</a> / 
        <a href="https://www.xiaojitv.com/tag/å¥‡å¹»">å¥‡å¹»</a>
    </div>
</div>
```

## è¯¦æƒ…é¡µé¢ç»“æ„

è¯¦æƒ…é¡µé¢åŒ…å«å®Œæ•´çš„å½±ç‰‡ä¿¡æ¯å’Œç½‘ç›˜ä¸‹è½½é“¾æ¥ã€‚

### 1. é¡µé¢æ ‡é¢˜å’ŒåŸºæœ¬ä¿¡æ¯

```html
<h1 class="article-title">
    <a href="https://www.xiaojitv.com/656.html">å‡¡äººä¿®ä»™ä¼ (2020)</a>
</h1>
```

### 2. ç›¸å…³èµ„æºåŒºåŸŸ â­ é‡è¦

ç½‘ç›˜ä¸‹è½½é“¾æ¥ä½äºç›¸å…³èµ„æºåŒºåŸŸï¼Œè¿™æ˜¯xiaojiæ’ä»¶çš„æ ¸å¿ƒæå–ç›®æ ‡ï¼š

```html
<div class="cloud-search-resource-results" data-post-id="656">
    <div class="cloud-search-resource-header">
        <h3>ç›¸å…³èµ„æº</h3>
        <!-- æ“ä½œæŒ‰é’® -->
    </div>
    
    <!-- èµ„æºåˆ—è¡¨ -->
    <div class="resource-compact-item">
        <div class="resource-compact-link">
            <a href="https://www.xiaojitv.com/go.html?url=aHR0cHM6Ly9wYW4ucXVhcmsuY24vcy9kNjQ5MWJmZWQxNmI=" 
               target="_blank" rel="nofollow">
                å‡¡äººä¿®ä»™ä¼  2024 4K æŒç»­æ›´æ–°ä¸­
            </a>
        </div>
        <div class="resource-compact-info">
            <span class="resource-compact-source">èšåˆç›˜</span>
        </div>
    </div>
    
    <div class="resource-compact-item">
        <div class="resource-compact-link">
            <a href="https://www.xiaojitv.com/go.html?url=aHR0cHM6Ly9jbG91ZC4xODkuY24vdC9JYmFVVnpFN1puZXk=" 
               target="_blank" rel="nofollow">
                å‡¡äººä¿®ä»™ä¼  2024 4K æŒç»­æ›´æ–°ä¸­ txb
            </a>
        </div>
        <div class="resource-compact-info">
            <span class="resource-compact-source">å°æ„›ç›˜â‘¡</span>
        </div>
    </div>
    
    <!-- æ›´å¤šèµ„æº... -->
</div>
```

### 3. Base64ç¼–ç é“¾æ¥è§£æ ğŸ”‘ å…³é”®ç‰¹æ€§

xiaojiç½‘ç«™ä½¿ç”¨ç‰¹æ®Šçš„é“¾æ¥ä¿æŠ¤æœºåˆ¶ï¼š

**åŸå§‹é“¾æ¥æ ¼å¼**ï¼š
```
https://www.xiaojitv.com/go.html?url=aHR0cHM6Ly9wYW4ucXVhcmsuY24vcy9kNjQ5MWJmZWQxNmI=
```

**æå–æ­¥éª¤**ï¼š
1. æå–URLå‚æ•°ä¸­çš„base64å­—ç¬¦ä¸²ï¼š`aHR0cHM6Ly9wYW4ucXVhcmsuY24vcy9kNjQ5MWJmZWQxNmI=`
2. è¿›è¡Œbase64è§£ç ï¼š`https://pan.quark.cn/s/d6491bfed16b`
3. å¾—åˆ°çœŸå®çš„ç½‘ç›˜é“¾æ¥

## æå–é€»è¾‘

### æœç´¢ç»“æœé¡µé¢æå–é€»è¾‘

1. å®šä½æ‰€æœ‰çš„`article.poster-item`å…ƒç´ 
2. å¯¹äºæ¯ä¸ªå…ƒç´ ï¼š
   - ä»`.poster-link`çš„`href`å±æ€§æå–è¯¦æƒ…é¡µé“¾æ¥
   - ä»é“¾æ¥ä¸­æå–èµ„æºIDï¼ˆæ­£åˆ™ï¼š`/(\d+)\.html`ï¼‰
   - ä»`.poster-title a`æå–æ ‡é¢˜
   - ä»`.poster-rating .rating-score`æå–è¯„åˆ†
   - ä»`.poster-category a`æå–åˆ†ç±»
   - ä»`.poster-image img`çš„`src`å±æ€§æå–å°é¢å›¾ç‰‡URL
   - ä»`.poster-tags a`æå–æ ‡ç­¾ä¿¡æ¯

### è¯¦æƒ…é¡µé¢æå–é€»è¾‘

1. è·å–èµ„æºåŸºæœ¬ä¿¡æ¯ï¼š
   - æ ‡é¢˜ï¼š`.article-title a`çš„æ–‡æœ¬å†…å®¹
   - èµ„æºIDï¼šä»URLä¸­æå–

2. æå–ç½‘ç›˜é“¾æ¥ â­ æ ¸å¿ƒé€»è¾‘ï¼š
   ```go
   // 1. æŸ¥æ‰¾æ‰€æœ‰èµ„æºé“¾æ¥
   doc.Find(".resource-compact-link a").Each(func(i int, s *goquery.Selection) {
       href, exists := s.Attr("href")
       if !exists {
           return
       }
       
       var realURL string
       
       // 2. æ£€æŸ¥é“¾æ¥ç±»å‹å¹¶å¤„ç†
       if strings.Contains(href, "/go.html?url=") {
           // Base64ç¼–ç é“¾æ¥ï¼Œéœ€è¦è§£ç 
           parts := strings.Split(href, "url=")
           if len(parts) == 2 {
               encoded := parts[1]
               decoded, err := base64.StdEncoding.DecodeString(encoded)
               if err == nil {
                   realURL = string(decoded)
               }
           }
       } else if strings.HasPrefix(href, "http://") || strings.HasPrefix(href, "https://") || 
                 strings.HasPrefix(href, "magnet:") || strings.HasPrefix(href, "ed2k://") {
           // ç›´æ¥é“¾æ¥ï¼Œæ— éœ€è§£ç 
           realURL = href
       }
       
       // 3. å¤„ç†æœ‰æ•ˆé“¾æ¥
       if realURL != "" {
           link := model.Link{
               Type:     determineCloudType(realURL),
               URL:      realURL,
               Password: "", // xiaojiç½‘ç«™é€šå¸¸æ— å¯†ç 
           }
           links = append(links, link)
       }
   })
   ```

3. æå–èµ„æºæè¿°ï¼š
   - èµ„æºåç§°ï¼š`.resource-compact-link a`çš„æ–‡æœ¬å†…å®¹
   - èµ„æºæ¥æºï¼š`.resource-compact-source`çš„æ–‡æœ¬å†…å®¹

## æ”¯æŒçš„ç½‘ç›˜ç±»å‹

æ ¹æ®åˆ†æï¼Œxiaojiç½‘ç«™æ”¯æŒå¤šç§ç½‘ç›˜ç±»å‹ï¼š

- **å¤¸å…‹ç½‘ç›˜**: `https://pan.quark.cn/s/xxxxx`
- **å¤©ç¿¼äº‘ç›˜**: `https://cloud.189.cn/t/xxxxx`
- **é˜¿é‡Œäº‘ç›˜**: `https://www.alipan.com/s/xxxxx`
- **ç™¾åº¦ç½‘ç›˜**: `https://pan.baidu.com/s/xxxxx`
- **115ç½‘ç›˜**: `https://115.com/s/xxxxx`ã€`https://115cdn.com/s/xxxxx`
- **åŸé€šç½‘ç›˜**: `https://url91.ctfile.com/f/xxxxx` (å½’ç±»åˆ°others)
- **ç£åŠ›é“¾æ¥**: `magnet:?xt=urn:btih:xxxxx`
- **ED2Ké“¾æ¥**: `ed2k://xxxxx`

## é‡è¦å‘ç°å’Œæ³¨æ„äº‹é¡¹

### 1. Base64ç¼–ç ä¿æŠ¤ ğŸ”

ç½‘ç«™ä½¿ç”¨base64ç¼–ç ä¿æŠ¤çœŸå®çš„ç½‘ç›˜é“¾æ¥ï¼Œè¿™æ˜¯xiaojiæ’ä»¶çš„æœ€å¤§ç‰¹ç‚¹ï¼š
- æ‰€æœ‰ç½‘ç›˜é“¾æ¥éƒ½ç»è¿‡base64ç¼–ç 
- é“¾æ¥æ ¼å¼ï¼š`/go.html?url={base64å­—ç¬¦ä¸²}`
- å¿…é¡»è§£ç æ‰èƒ½è·å¾—çœŸå®é“¾æ¥

### 2. æœç´¢ç»“æœå¸ƒå±€

ä½¿ç”¨ç°ä»£çš„posterå¸ƒå±€ï¼Œä¸ä¼ ç»Ÿçš„åˆ—è¡¨å¸ƒå±€ä¸åŒï¼š
- ä½¿ç”¨CSS Gridå¸ƒå±€
- æ¯ä¸ªç»“æœéƒ½æœ‰å°é¢å›¾ç‰‡
- åŒ…å«è¯„åˆ†å’Œåˆ†ç±»ä¿¡æ¯

### 3. åŠ¨æ€åŠ è½½

é¡µé¢å¯èƒ½ä½¿ç”¨äº†AJAXåŠ¨æ€åŠ è½½ï¼š
- æŸäº›å†…å®¹å¯èƒ½éœ€è¦ç­‰å¾…JavaScriptæ‰§è¡Œ
- å»ºè®®åœ¨è¯·æ±‚æ—¶è®¾ç½®é€‚å½“çš„User-Agent

### 4. åçˆ¬è™«æªæ–½

ç½‘ç«™å¯èƒ½æœ‰ä¸€å®šçš„åçˆ¬è™«æªæ–½ï¼š
- éœ€è¦è®¾ç½®å®Œæ•´çš„æµè§ˆå™¨è¯·æ±‚å¤´
- å¯èƒ½éœ€è¦å¤„ç†JavaScriptæ¸²æŸ“çš„å†…å®¹

## æå–å­—æ®µæ˜ å°„

| å­—æ®µ | HTMLä½ç½® | æå–æ–¹æ³• |
|------|----------|----------|
| æ ‡é¢˜ | `.poster-title a` | æ–‡æœ¬å†…å®¹ |
| è¯¦æƒ…é¡µé“¾æ¥ | `.poster-link` | hrefå±æ€§ |
| èµ„æºID | è¯¦æƒ…é¡µURL | æ­£åˆ™æå– |
| å°é¢å›¾ç‰‡ | `.poster-image img` | srcå±æ€§ |
| è¯„åˆ† | `.rating-score` | æ–‡æœ¬å†…å®¹ |
| åˆ†ç±» | `.poster-category a` | æ–‡æœ¬å†…å®¹ |
| æ ‡ç­¾ | `.poster-tags a` | æ–‡æœ¬å†…å®¹æ•°ç»„ |
| ç½‘ç›˜é“¾æ¥ | `.resource-compact-link a` | hrefå±æ€§ï¼ˆéœ€base64è§£ç ï¼‰ |
| èµ„æºæè¿° | `.resource-compact-link a` | æ–‡æœ¬å†…å®¹ |
| èµ„æºæ¥æº | `.resource-compact-source` | æ–‡æœ¬å†…å®¹ |

## å®ç°ä¼˜å…ˆçº§

1. **é«˜ä¼˜å…ˆçº§**: xiaojiæ˜¯å½±è§†èµ„æºç«™ï¼Œè´¨é‡è¾ƒå¥½ï¼Œå»ºè®®è®¾ç½®ä¸ºä¼˜å…ˆçº§2
2. **Serviceå±‚è¿‡æ»¤**: ä½¿ç”¨æ ‡å‡†çš„Serviceå±‚è¿‡æ»¤ï¼Œä¸è·³è¿‡
3. **ç¼“å­˜ç­–ç•¥**: å»ºè®®è®¾ç½®åˆç†çš„ç¼“å­˜æ—¶é—´ï¼Œé¿å…é¢‘ç¹è¯·æ±‚

## å¼€å‘æ³¨æ„äº‹é¡¹

1. **Base64è§£ç **: å¿…é¡»å®ç°base64è§£ç é€»è¾‘
2. **ç½‘ç›˜ç±»å‹è¯†åˆ«**: ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„`determineCloudType`å‡½æ•°
3. **é”™è¯¯å¤„ç†**: å¤„ç†base64è§£ç å¤±è´¥çš„æƒ…å†µ
4. **é“¾æ¥å»é‡**: é¿å…é‡å¤çš„ç½‘ç›˜é“¾æ¥
5. **è¯·æ±‚å¤´è®¾ç½®**: ä½¿ç”¨å®Œæ•´çš„æµè§ˆå™¨è¯·æ±‚å¤´é¿å…è¢«æ‹¦æˆª
